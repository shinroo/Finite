parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"SP/d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultTemplateFactory=r,exports.render=o;const e=exports.templateCaches=new Map,t=exports.html=((e,...t)=>new n(e,t,"html")),s=exports.svg=((e,...t)=>new i(e,t,"svg"));class n{constructor(e,t,s,n=V){this.strings=e,this.values=t,this.type=s,this.partCallback=n}getHTML(){const e=this.strings.length-1;let t="",s=!0;for(let n=0;n<e;n++){const e=this.strings[n];t+=e;const i=h(e);t+=(s=i>-1?i<e.length:s)?a:l}return t+=this.strings[e]}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}exports.TemplateResult=n;class i extends n{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const e=super.getTemplateElement(),t=e.content,s=t.firstChild;return t.removeChild(s),y(t,s.firstChild),e}}function r(t){let s=e.get(t.type);void 0===s&&(s=new Map,e.set(t.type,s));let n=s.get(t.strings);return void 0===n&&(n=new m(t,t.getTemplateElement()),s.set(t.strings,n)),n}function o(e,t,s=r){const n=s(e);let i=t.__templateInstance;if(void 0!==i&&i.template===n&&i._partCallback===e.partCallback)return void i.update(e.values);i=new b(n,e.partCallback,s),t.__templateInstance=i;const o=i._clone();i.update(e.values),C(t,t.firstChild),t.appendChild(o)}exports.SVGTemplateResult=i;const l=`{{lit-${String(Math.random()).slice(2)}}}`,a=`\x3c!--${l}--\x3e`,u=new RegExp(`${l}|${a}`),c=/[ \x09\x0a\x0c\x0d]([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=\/]+)[ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*)$/;function h(e){const t=e.lastIndexOf(">");return e.indexOf("<",t+1)>-1?e.length:t}class p{constructor(e,t,s,n,i){this.type=e,this.index=t,this.name=s,this.rawName=n,this.strings=i}}exports.TemplatePart=p;const d=exports.isTemplatePartActive=(e=>-1!==e.index);class m{constructor(e,t){this.parts=[],this.element=t;const s=this.element.content,n=document.createTreeWalker(s,133,null,!1);let i=-1,r=0;const o=[];let a,h;for(;n.nextNode();){i++,a=h;const t=h=n.currentNode;if(1===t.nodeType){if(!t.hasAttributes())continue;const s=t.attributes;let n=0;for(let e=0;e<s.length;e++)s[e].value.indexOf(l)>=0&&n++;for(;n-- >0;){const n=e.strings[r],o=c.exec(n)[1],l=s.getNamedItem(o),a=l.value.split(u);this.parts.push(new p("attribute",i,l.name,o,a)),t.removeAttribute(l.name),r+=a.length-1}}else if(3===t.nodeType){const e=t.nodeValue;if(e.indexOf(l)<0)continue;const s=t.parentNode,n=e.split(u),a=n.length-1;r+=a;for(let e=0;e<a;e++)s.insertBefore(""===n[e]?document.createComment(""):document.createTextNode(n[e]),t),this.parts.push(new p("node",i++));s.insertBefore(""===n[a]?document.createComment(""):document.createTextNode(n[a]),t),o.push(t)}else if(8===t.nodeType&&t.nodeValue===l){const e=t.parentNode,s=t.previousSibling;null===s||s!==a||s.nodeType!==Node.TEXT_NODE?e.insertBefore(document.createComment(""),t):i--,this.parts.push(new p("node",i++)),o.push(t),null===t.nextSibling?e.insertBefore(document.createComment(""),t):i--,h=a,r++}}for(const e of o)e.parentNode.removeChild(e)}}exports.Template=m;const x=exports.getValue=((e,t)=>_(t)?(t=t(e),g):null===t?void 0:t),f=exports.directive=(e=>(e.__litDirective=!0,e)),_=e=>"function"==typeof e&&!0===e.__litDirective,g=exports.noChange={};exports.directiveValue=g;const v=e=>null===e||!("object"==typeof e||"function"==typeof e);class N{constructor(e,t,s,n){this.instance=e,this.element=t,this.name=s,this.strings=n,this.size=n.length-1,this._previousValues=[]}_interpolate(e,t){const s=this.strings,n=s.length-1;let i="";for(let r=0;r<n;r++){i+=s[r];const n=x(this,e[t+r]);if(n&&n!==g&&(Array.isArray(n)||"string"!=typeof n&&n[Symbol.iterator]))for(const e of n)i+=e;else i+=n}return i+s[n]}_equalToPreviousValues(e,t){for(let s=t;s<t+this.size;s++)if(this._previousValues[s]!==e[s]||!v(e[s]))return!1;return!0}setValue(e,t){if(this._equalToPreviousValues(e,t))return;const s=this.strings;let n;2===s.length&&""===s[0]&&""===s[1]?(n=x(this,e[t]),Array.isArray(n)&&(n=n.join(""))):n=this._interpolate(e,t),n!==g&&this.element.setAttribute(this.name,n),this._previousValues=e}}exports.AttributePart=N;class T{constructor(e,t,s){this.instance=e,this.startNode=t,this.endNode=s,this._previousValue=void 0}setValue(e){if((e=x(this,e))!==g)if(v(e)){if(e===this._previousValue)return;this._setText(e)}else e instanceof n?this._setTemplateResult(e):Array.isArray(e)||e[Symbol.iterator]?this._setIterable(e):e instanceof Node?this._setNode(e):void 0!==e.then?this._setPromise(e):this._setText(e)}_insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}_setNode(e){this._previousValue!==e&&(this.clear(),this._insert(e),this._previousValue=e)}_setText(e){const t=this.startNode.nextSibling;e=void 0===e?"":e,t===this.endNode.previousSibling&&t.nodeType===Node.TEXT_NODE?t.textContent=e:this._setNode(document.createTextNode(e)),this._previousValue=e}_setTemplateResult(e){const t=this.instance._getTemplate(e);let s;this._previousValue&&this._previousValue.template===t?s=this._previousValue:(s=new b(t,this.instance._partCallback,this.instance._getTemplate),this._setNode(s._clone()),this._previousValue=s),s.update(e.values)}_setIterable(e){Array.isArray(this._previousValue)||(this.clear(),this._previousValue=[]);const t=this._previousValue;let s=0;for(const n of e){let e=t[s];if(void 0===e){let n=this.startNode;if(s>0){n=t[s-1].endNode=document.createTextNode(""),this._insert(n)}e=new T(this.instance,n,this.endNode),t.push(e)}e.setValue(n),s++}if(0===s)this.clear(),this._previousValue=void 0;else if(s<t.length){const e=t[s-1];t.length=s,this.clear(e.endNode.previousSibling),e.endNode=this.endNode}}_setPromise(e){this._previousValue=e,e.then(t=>{this._previousValue===e&&this.setValue(t)})}clear(e=this.startNode){C(this.startNode.parentNode,e.nextSibling,this.endNode)}}exports.NodePart=T;const V=exports.defaultPartCallback=((e,t,s)=>{if("attribute"===t.type)return new N(e,s,t.name,t.strings);if("node"===t.type)return new T(e,s,s.nextSibling);throw new Error(`Unknown part type ${t.type}`)});class b{constructor(e,t,s){this._parts=[],this.template=e,this._partCallback=t,this._getTemplate=s}update(e){let t=0;for(const s of this._parts)s?void 0===s.size?(s.setValue(e[t]),t++):(s.setValue(e,t),t+=s.size):t++}_clone(){const e=this.template.element.content.cloneNode(!0),t=this.template.parts;if(t.length>0){const s=document.createTreeWalker(e,133,null,!1);let n=-1;for(let e=0;e<t.length;e++){const i=t[e],r=d(i);if(r)for(;n<i.index;)n++,s.nextNode();this._parts.push(r?this._partCallback(this,i,s.currentNode):void 0)}}return e}}exports.TemplateInstance=b;const y=exports.reparentNodes=((e,t,s=null,n=null)=>{let i=t;for(;i!==s;){const t=i.nextSibling;e.insertBefore(i,n),i=t}}),C=exports.removeNodes=((e,t,s=null)=>{let n=t;for(;n!==s;){const t=n.nextSibling;e.removeChild(n),n=t}});
},{}],"XwwT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventPart=exports.PropertyPart=exports.BooleanAttributePart=exports.extendedPartCallback=exports.svg=exports.html=exports.render=void 0;var e=require("../lit-html.js");Object.defineProperty(exports,"render",{enumerable:!0,get:function(){return e.render}});const t=exports.html=((t,...s)=>new e.TemplateResult(t,s,"html",n)),s=exports.svg=((t,...s)=>new e.SVGTemplateResult(t,s,"svg",n)),n=exports.extendedPartCallback=((t,s,n)=>{if("attribute"===s.type){if("on-"===s.rawName.substr(0,3)){const e=s.rawName.slice(3);return new a(t,n,e)}const l=s.name.substr(s.name.length-1);if("$"===l){const r=s.name.slice(0,-1);return new e.AttributePart(t,n,r,s.strings)}if("?"===l){const e=s.name.slice(0,-1);return new r(t,n,e,s.strings)}return new i(t,n,s.rawName,s.strings)}return(0,e.defaultPartCallback)(t,s,n)});class r extends e.AttributePart{setValue(t,s){const n=this.strings;if(2!==n.length||""!==n[0]||""!==n[1])throw new Error("boolean attributes can only contain a single expression");{const n=(0,e.getValue)(this,t[s]);if(n===e.noChange)return;n?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}}}exports.BooleanAttributePart=r;class i extends e.AttributePart{setValue(t,s){const n=this.strings;let r;this._equalToPreviousValues(t,s)||((r=2===n.length&&""===n[0]&&""===n[1]?(0,e.getValue)(this,t[s]):this._interpolate(t,s))!==e.noChange&&(this.element[this.name]=r),this._previousValues=t)}}exports.PropertyPart=i;class a{constructor(e,t,s){this.instance=e,this.element=t,this.eventName=s}setValue(t){const s=(0,e.getValue)(this,t);s!==this._listener&&(null==s?this.element.removeEventListener(this.eventName,this):null==this._listener&&this.element.addEventListener(this.eventName,this),this._listener=s)}handleEvent(e){"function"==typeof this._listener?this._listener.call(this.element,e):"function"==typeof this._listener.handleEvent&&this._listener.handleEvent(e)}}exports.EventPart=a;
},{"../lit-html.js":"SP/d"}],"Jvgn":[function(require,module,exports) {
"use strict";function e(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function r(r,t,n){if(!t)return null;return!Array.isArray(t)&&(t=[t]),function r(i){var u=t.shift();if(Array.isArray(i)){var a=i.slice();return a[u]=t.length?r(a[u]):n,a}return Object.assign({},i,e({},u,t.length?r(i[u]):n))}(r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;
},{}],"BokN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=function(r){return e(r)&&!t(r)};function e(r){return!!r&&"object"==typeof r}function t(r){var e=Object.prototype.toString.call(r);return"[object RegExp]"===e||"[object Date]"===e||a(r)}var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103;function a(r){return r.$$typeof===o}function c(r){return Array.isArray(r)?[]:{}}function u(r,e){return!1!==e.clone&&e.isMergeableObject(r)?y(c(r),r,e):r}function i(r,e,t){return r.concat(e).map(function(r){return u(r,t)})}function f(r,e,t){var n={};return t.isMergeableObject(r)&&Object.keys(r).forEach(function(e){n[e]=u(r[e],t)}),Object.keys(e).forEach(function(o){t.isMergeableObject(e[o])&&r[o]?n[o]=y(r[o],e[o],t):n[o]=u(e[o],t)}),n}function y(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||i,n.isMergeableObject=n.isMergeableObject||r;var o=Array.isArray(t);return o===Array.isArray(e)?o?n.arrayMerge(e,t,n):f(e,t,n):u(t,n)}y.all=function(r,e){if(!Array.isArray(r))throw new Error("first argument should be an array");return r.reduce(function(r,t){return y(r,t,e)},{})};var b=y;exports.default=b;
},{}],"8Kom":[function(require,module,exports) {
"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};exports.__esModule=!0;var o=t(require("deepmerge"));exports.inject=function(e,t){return function(o){return e(o,t)}},exports.loopNestedObj=function(t,o,r){void 0===r&&(r=[]),Object.entries(t).forEach(function(t){var n=t[0],u=t[1];!u||"object"!==(void 0===u?"undefined":e(u))||u instanceof Promise?o(u,r):exports.loopNestedObj(u,o,r.length?[n]:r.concat([n]))})},exports.merge=function(e,t){return o.default(e,t,{arrayMerge:function(e,t){return t}})};
},{"deepmerge":"BokN"}],"YUqJ":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(){this.states=[],this.point=null,this.pointer=null}return t.prototype.add=function(t){this.states.push(t)},t.prototype.find=function(t){return this.states.find(function(n){return n.name===t})},t.prototype.setMountPoint=function(t){this.point=t},t.prototype.getMountPoint=function(){return this.point},t}();exports.Machine=t;
},{}],"cIvg":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var i in r=arguments[e])Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t},r=this&&this.__rest||function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)r.indexOf(n[i])<0&&(e[n[i]]=t[n[i]])}return e};exports.__esModule=!0;var e=require("../common/utils"),n=function(){function n(t){var e=t.name,n=t.view,i=t.memory,o=void 0===i?{}:i,s=t.transitions,a=void 0===s?[]:s,u=r(t,["name","view","memory","transitions"]);this.name=e,this.view=n,this.memory=o,this.transitions=a,this.rest=u}return n.prototype.findTransitionsByName=function(t){return this.transitions.find(function(r){return r.name===t})},n.prototype.restWithMemory=function(){var r=this;return Object.keys(this.rest).reduce(function(n,i){var o;return t({},n,((o={})[i]=e.inject(r.rest[i],r.memory),o))},{})},n}();exports.State=n;
},{"../common/utils":"8Kom"}],"Ya9/":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},n=this&&this.__rest||function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&(t[o[r]]=e[o[r]])}return t};exports.__esModule=!0;var t=require("lit-html"),o=require("updatein"),r=require("../common/utils"),i=require("../machine/machine"),s=require("../state/state"),a=new i.Machine;console.log("Right now console output only way to debug this, so every Transition is logged \n");var m=function(){function i(){}return i.State=function(t){var o=t.name,r=t.view,i=t.memory,m=t.transitions,u=n(t,["name","view","memory","transitions"]),c=new s.State(e({name:o,view:r,memory:i,transitions:m},u));return a.add(c),c},i.AsyncTransition=function(n,i){void 0===i&&(i={});var s=a.pointer,m=s.findTransitionsByName(n).to,u=a.find(m),c=[];r.loopNestedObj(i,function(e,n){e instanceof Promise&&c.push([e,n])}),Promise.all(c.reduce(function(e,n){return e.concat([n[0]])},[])).then(function(y){y.map(function(e,n){i=o.updateIn(i,c[n][1],function(){return e})}),u.memory=r.merge(u.memory,i),a.pointer=u,console.log("ASYNC TRANSITION",n,s.name+" -> "+m),t.render(u.view(e({},u.memory,u.restWithMemory())),a.getMountPoint())})},i.Transition=function(n,o){void 0===o&&(o={});var i=a.pointer,s=i.findTransitionsByName(n).to,m=a.find(s);m.memory=r.merge(m.memory,o),a.pointer=m,console.log("TRANSITION",n,i.name+" -> "+s),t.render(m.view(e({},m.memory,m.restWithMemory())),a.getMountPoint())},i.Render=function(n,o){a.setMountPoint(o),a.pointer=n,console.log("INIT_STATE",n.name||"Anonymous",n.memory),t.render(n.view(e({},n.memory,n.restWithMemory())),o)},i.T=function(e,n){return{name:e,to:n}},i}();exports.Finite=m;
},{"lit-html":"SP/d","updatein":"Jvgn","../common/utils":"8Kom","../machine/machine":"YUqJ","../state/state":"cIvg"}],"7QCb":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var i=require("lit-html/lib/lit-extended");exports.html=i.html,exports.h=i.html;var t=require("./finite/finite");window.h=i.html,window.html=i.html,window.Finite=t.Finite,window.State=t.Finite.State,window.Render=t.Finite.Render,window.Transition=t.Finite.Transition,window.AsyncTransition=t.Finite.AsyncTransition,window.T=t.Finite.T,exports.State=t.Finite.State,exports.Render=t.Finite.Render,exports.Transition=t.Finite.Transition,exports.AsyncTransition=t.Finite.AsyncTransition,exports.T=t.Finite.T,exports.default=t.Finite;
},{"lit-html/lib/lit-extended":"XwwT","./finite/finite":"Ya9/"}]},{},["7QCb"], null)