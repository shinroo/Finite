parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"Wz0E":[function(require,module,exports) {
var define;
var t;!function(){var e={};e.__esModule=!0;var n=function(t){return t.firstChild},r=[];e.addToRawEvents=function(t){r=r.concat(t)};e.getRawEvents=function(){return r};e.replace=function(t,e,n){var r=t;return e.map(function(t,e){r=r.replace(new RegExp(t,"g"),n[e])}),r};e.same=function(t,e){return t.length===e.length&&t.every(function(t,n){return t===e[n]})};e.cleanNode=function(t){for(;n(t);)t.removeChild(n(t))};e.htmlEscape=function(t){return e.replace(t,["&",">","<",'"',"'","`"],["&amp;","&gt;","&quot;","&#39;","&#39;","&#96;"])};e.toDOM=function(t,r){var i=document.createElement("template");return i.innerHTML=t.trim(),function t(e,n,r){void 0===r&&(r=!1);var i=e.attributes;if(i&&i.length)for(var s=0;s<i.length;s++){var o=i.item(s).name;o.startsWith("on")&&(e.removeAttribute(o),n(o.slice(2),e,r))}e.childNodes.forEach(function(e){1!==e.nodeType&&8!==e.nodeType||(8===e.nodeType&&("RAW_START"===e.data.trim()&&(r=!0),"RAW_END"===e.data.trim()&&(r=!1)),t(e,n,r))})}(n(i.content),function(t,n,i){var s=i?e.getRawEvents().shift():r.shift();n.addEventListener(t,"function"!=typeof s?function(){}:s)}),n(i.content)};var i={};i.__esModule=!0;var s=function(){function t(t,e){this.lit=t,this.values=e,this.result="",this.events=[],this.isRaw=!1}return t.prototype.checkValues=function(t){return!!e.same(t,this.values)||(this._update(t),!1)},t.prototype.checkLiteral=function(t){return e.same(t,this.lit)},t.prototype.getResult=function(){return""===this.result&&this._update(),{result:this.result,events:this.events}},t.prototype.forceUpdate=function(){this._update()},t.prototype._update=function(t){var n=this;void 0===t&&(t=this.values),this.result="",this.events=[],this.isRaw&&(this.result+="\n\x3c!-- RAW_START --\x3e\n"),t.forEach(function(t,r){var i=n.lit[r];Array.isArray(t)&&(t=t.join("")),i.endsWith("$")&&(t=e.htmlEscape(t),i=i.slice(0,-1)),n.result+=i,i.endsWith("=")?(i.split(" ").pop().startsWith("on")&&n.events.push(t),n.result+='"'+e.replace(t.toString(),["'",'"'],["'","'"])+'"'):n.result+=t}),this.result+=this.lit[this.lit.length-1],this.isRaw&&(this.result+="\n\x3c!-- RAW_END --\x3e\n")},t}();i.default=s;var o={},u=o&&o.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};o.__esModule=!0;var a=u(i),l=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new a.default(t.raw,e)};o.html=l;var c=function(t){t.isRaw=!0,t.forceUpdate();var n=t.getResult(),r=n.result,i=n.events;return e.addToRawEvents(i),r},h=new WeakMap,d=function(t,n){var r=h.get(n);r&&r.checkLiteral(t.lit)?r.checkValues(t.values)||(e.cleanNode(n),n.appendChild(e.toDOM(r.result,r.events))):function(){var r=t.getResult(),i=r.result,s=r.events;h.set(n,t),e.cleanNode(n),n.appendChild(e.toDOM(i,s))}()},f={};f.__esModule=!0;var p=l;f.html=p;var v=c;f.raw=v;var m=d;f.render=m,window.html=l,window.render=d,window.raw=c,"object"==typeof exports&&"undefined"!=typeof module?module.exports=f:"function"==typeof t&&t.amd&&t(function(){return f})}();
},{}],"Jvgn":[function(require,module,exports) {
"use strict";function e(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function r(r,t,n){if(!t)return null;return!Array.isArray(t)&&(t=[t]),function r(i){var u=t.shift();if(Array.isArray(i)){var a=i.slice();return a[u]=t.length?r(a[u]):n,a}return Object.assign({},i,e({},u,t.length?r(i[u]):n))}(r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;
},{}],"BokN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=function(r){return e(r)&&!t(r)};function e(r){return!!r&&"object"==typeof r}function t(r){var e=Object.prototype.toString.call(r);return"[object RegExp]"===e||"[object Date]"===e||a(r)}var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103;function a(r){return r.$$typeof===o}function c(r){return Array.isArray(r)?[]:{}}function u(r,e){return!1!==e.clone&&e.isMergeableObject(r)?y(c(r),r,e):r}function i(r,e,t){return r.concat(e).map(function(r){return u(r,t)})}function f(r,e,t){var n={};return t.isMergeableObject(r)&&Object.keys(r).forEach(function(e){n[e]=u(r[e],t)}),Object.keys(e).forEach(function(o){t.isMergeableObject(e[o])&&r[o]?n[o]=y(r[o],e[o],t):n[o]=u(e[o],t)}),n}function y(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||i,n.isMergeableObject=n.isMergeableObject||r;var o=Array.isArray(t);return o===Array.isArray(e)?o?n.arrayMerge(e,t,n):f(e,t,n):u(t,n)}y.all=function(r,e){if(!Array.isArray(r))throw new Error("first argument should be an array");return r.reduce(function(r,t){return y(r,t,e)},{})};var b=y,l=b;exports.default=l;
},{}],"8Kom":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};exports.__esModule=!0;var o=e(require("deepmerge"));exports.inject=function(t,e){return function(o){return t(o,e)}},exports.loopNestedObj=function(e,o,r){void 0===r&&(r=[]),Object.entries(e).forEach(function(e){var n=e[0],u=e[1];r.push(n),!u||"object"!==t(u)||u instanceof Promise?o(u,r):exports.loopNestedObj(u,o,r)})},exports.merge=function(t,e){return o.default(t,e,{arrayMerge:function(t,e){return e}})};
},{"deepmerge":"BokN"}],"YUqJ":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(){this.states=[],this.point=null,this.pointer=null}return t.prototype.add=function(t){this.states.push(t)},t.prototype.find=function(t){return this.states.find(function(n){return n.name===t})},t.prototype.setMountPoint=function(t){this.point=t},t.prototype.getMountPoint=function(){return this.point},t}();exports.Machine=t;
},{}],"cIvg":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var i in r=arguments[e])Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t},r=this&&this.__rest||function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)r.indexOf(n[i])<0&&(e[n[i]]=t[n[i]])}return e};exports.__esModule=!0;var e=require("../common/utils"),n=function(){function n(t){var e=t.name,n=t.view,i=t.memory,o=void 0===i?{}:i,s=t.transitions,a=void 0===s?[]:s,u=r(t,["name","view","memory","transitions"]);this.name=e,this.view=n,this.memory=o,this.transitions=a,this.rest=u}return n.prototype.findTransitionsByName=function(t){return this.transitions.find(function(r){return r.name===t})},n.prototype.restWithMemory=function(){var r=this;return Object.keys(this.rest).reduce(function(n,i){var o;return t({},n,((o={})[i]=e.inject(r.rest[i],r.memory),o))},{})},n}();exports.State=n;
},{"../common/utils":"8Kom"}],"Ya9/":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||Object.assign||function(e){for(var n,o=1,t=arguments.length;o<t;o++)for(var r in n=arguments[o])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},n=this&&this.__rest||function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(t=Object.getOwnPropertySymbols(e);r<t.length;r++)n.indexOf(t[r])<0&&(o[t[r]]=e[t[r]])}return o},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};exports.__esModule=!0;var t=require("picohtml"),r=o(require("updatein")),i=require("../common/utils"),m=require("../machine/machine"),s=require("../state/state"),a=new m.Machine;console.log("Right now console output only way to debug, so every Transition is logged \n");var u=function(){function o(){}return o.State=function(o){var t=o.name,r=o.view,i=o.memory,m=o.transitions,u=n(o,["name","view","memory","transitions"]),c=new s.State(e({name:t,view:r,memory:i,transitions:m},u));return a.add(c),c},o.AsyncTransition=function(e,n){void 0===n&&(n={});var o=a.pointer,m=o.findTransitionsByName(e).to,s=a.find(m),u=[];i.loopNestedObj(n,function(e,n){e instanceof Promise&&u.push([e,n])}),Promise.all(u.reduce(function(e,n){return e.concat([n[0]])},[])).then(function(c){c.map(function(e,o){n=r.default(n,u[o][1],e)}),s.memory=i.merge(s.memory,n),a.pointer=s,console.log("ASYNC TRANSITION",e,o.name+" -> "+m,s.memory),t.render(s.view(i.merge(s.memory,s.restWithMemory())),a.getMountPoint())})},o.Transition=function(e,n){void 0===n&&(n={});var o=a.pointer,r=o.findTransitionsByName(e).to,m=a.find(r);m.memory=i.merge(m.memory,n),a.pointer=m,console.log("TRANSITION",e,o.name+" -> "+r),console.log(m.view(i.merge(m.memory,m.restWithMemory()))),console.log(m.view(i.merge(m.memory,m.restWithMemory())).getResult()),t.render(m.view(i.merge(m.memory,m.restWithMemory())),a.getMountPoint())},o.Render=function(e,n){a.setMountPoint(n),a.pointer=e,console.log("INIT_STATE",e.name||"Anonymous",e.memory),t.render(e.view(i.merge(e.memory,e.restWithMemory())),n)},o.T=function(e,n){return{name:e,to:n}},o}();exports.Finite=u;
},{"picohtml":"Wz0E","updatein":"Jvgn","../common/utils":"8Kom","../machine/machine":"YUqJ","../state/state":"cIvg"}],"7QCb":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var i=require("picohtml");exports.h=i.html,exports.raw=i.raw;var n=require("./finite/finite");window.h=i.html,window.raw=i.raw,window.Finite=n.Finite,window.State=n.Finite.State,window.Render=n.Finite.Render,window.Transition=n.Finite.Transition,window.AsyncTransition=n.Finite.AsyncTransition,window.T=n.Finite.T,exports.State=n.Finite.State,exports.Render=n.Finite.Render,exports.Transition=n.Finite.Transition,exports.AsyncTransition=n.Finite.AsyncTransition,exports.T=n.Finite.T,exports.default=n.Finite;
},{"picohtml":"Wz0E","./finite/finite":"Ya9/"}]},{},["7QCb"], null)