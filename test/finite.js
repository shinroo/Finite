(function () {var a={};var b,d={};!function(){var t={},e=function(t){return t.firstChild},n=[],i=function(t,e,n){void 0===n&&(n=!1);var r=t.attributes;if(r&&r.length)for(var s=0;s<r.length;s++){var u=r.item(s).name;u.startsWith("on")&&(t.removeAttribute(u),e(u.slice(2),t,n))}t.childNodes.forEach(function(t){1!==t.nodeType&&8!==t.nodeType||(8===t.nodeType&&("RAW_START"===t.data.trim()&&(n=!0),"RAW_END"===t.data.trim()&&(n=!1)),i(t,e,n))})},r=function(t,e,n){var i=t;return e.map(function(t,e){i=i.replace(new RegExp(t,"g"),n[e])}),i},s=function(t,e){return t.length===e.length&&t.every(function(t,n){return t===e[n]})},u=function(t){for(;e(t);)t.removeChild(e(t))},o=function(t,r){var s=document.createElement("template");return s.innerHTML=t.trim(),i(e(s.content),function(t,e,i){var s=i?n.shift():r.shift();e.addEventListener(t,"function"!=typeof s?function(){}:s)}),e(s.content)},a=function(){function t(t,e){this.lit=t,this.values=e,this.result="",this.events=[],this.isRaw=!1}return t.prototype.checkValues=function(t){return!!s(t,this.values)||(this._update(t),!1)},t.prototype.checkLiteral=function(t){return s(t,this.lit)},t.prototype.getResult=function(){return""===this.result&&this._update(),{result:this.result,events:this.events}},t.prototype.forceUpdate=function(){this._update()},t.prototype._update=function(t){var e=this;void 0===t&&(t=this.values),this.result="",this.events=[],this.isRaw&&(this.result+="\n<!-- RAW_START -->\n"),t.forEach(function(t,n){var i=e.lit[n];if(Array.isArray(t)&&(t=t.join("")),i.endsWith("$")&&(t=function(t){return r(t,["&",">","<","\"","'","`"],["&amp;","&gt;","&quot;","&#39;","&#39;","&#96;"])}(t),i=i.slice(0,-1)),e.result+=i,i.endsWith("=")||i.endsWith("=\"")){i.split(" ").pop().startsWith("on")&&e.events.push(t);var s=r(t.toString(),["'","\""],["'","'"]);i.endsWith("=")&&(e.result+="\""+s+"\""),i.endsWith("=\"")&&(e.result+=""+s)}else e.result+=t}),this.result+=this.lit[this.lit.length-1],this.isRaw&&(this.result+="\n<!-- RAW_END -->\n")},t}(),c=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new a(t.raw,e)},h=function(t){t.isRaw=!0,t.forceUpdate();var e=t.getResult(),i=e.result;return function(t){n=n.concat(t)}(e.events),i},l=new WeakMap,f=function(t,e){var n=l.get(e);n&&n.checkLiteral(t.lit)?n.checkValues(t.values)||(u(e),e.appendChild(o(n.result,n.events))):function(){var n=t.getResult(),i=n.result,r=n.events;l.set(e,t),u(e),e.appendChild(o(i,r))}()};window.html=c,window.render=f,window.raw=h,t.raw=h,t.render=f,t.html=c,"object"==typeof d?d=t:"function"==typeof b&&b.amd&&b(function(){return t})}();var c,e=a&&a.__makeTemplateObject||function(e,$){return Object.defineProperty?Object.defineProperty(e,"raw",{value:$}):e.raw=$,e};function f(){return d.html(c||(c=e(["\n    <p>Hello</p>\n  "],["\n    <p>Hello</p>\n  "])))}console.log(f());if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=a}else if(typeof define==="function"&&define.amd){define(function(){return a})}})();